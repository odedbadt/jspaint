var u=this;
function w(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}function x(a){return"string"==typeof a}var aa="closure_uid_"+(1E9*Math.random()>>>0),ba=0;function y(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}
function ca(a,b){function c(){}c.prototype=b.prototype;a.R=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.T=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};function z(){0!=da&&(this[aa]||(this[aa]=++ba));this.a=this.a;this.s=this.s}var da=0;z.prototype.a=!1;function A(a){A[" "](a);return a}A[" "]=function(){};var ea=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function B(a,b){return a<b?-1:a>b?1:0};var C;a:{var fa=u.navigator;if(fa){var ga=fa.userAgent;if(ga){C=ga;break a}}C=""};function ha(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function ia(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function ka(a){for(var b in a)return!1;return!0};function D(a,b){this.type=a;this.a=this.l=b}D.prototype.b=function(){};var la="closure_listenable_"+(1E6*Math.random()|0),ma=0;function na(a,b,c,e,d){this.listener=a;this.a=null;this.src=b;this.type=c;this.B=!!e;this.b=d;this.O=++ma;this.w=this.I=!1}function oa(a){a.w=!0;a.listener=null;a.a=null;a.src=null;a.b=null};var F=Array.prototype,pa=F.indexOf?function(a,b,c){return F.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(x(a))return x(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},qa=F.forEach?function(a,b,c){F.forEach.call(a,b,c)}:function(a,b,c){for(var e=a.length,d=x(a)?a.split(""):a,f=0;f<e;f++)f in d&&b.call(c,d[f],f,a)},ra=F.map?function(a,b,c){return F.map.call(a,b,c)}:function(a,b,c){for(var e=a.length,d=Array(e),f=x(a)?a.split(""):
a,g=0;g<e;g++)g in f&&(d[g]=b.call(c,f[g],g,a));return d};function G(a,b,c,e){return a||b?a?b?H(I(J,a.h,b.h,c,e)):a:H(I(J,{},b.h,c,e)):null}function I(a,b,c,e,d){e=e||0;d=d||0;var f={},g;for(g in b){var h=a(b[Number(g)],c[Number(g)-d]||null,e);h&&(f[g]=h)}for(g in c)(h=a(b[Number(g)+d]||null,c[Number(g)],e))&&(f[Number(g)+d]=h);return f}function H(a){ha(a,function(a){for(var c=0;c<a.length;++c);});return ka(a)?null:{h:a,H:sa(a),P:ta(a)}}
function sa(a){var b=Infinity,c=Infinity,e=-Infinity,d=-Infinity,f;for(f in a)Number(f)<c&&(c=Number(f)),Number(f)+1>d&&(d=Number(f)+1),0!=a[f].length&&(a[f][0]<b&&(b=a[f][0]),a[f][a[f].length-1]>e&&(e=a[f][a[f].length-1]));return b>=e||c>=d?null:{i:b,j:c,F:e,G:d}}function ta(a){for(var b in a)if(2!=a[b].length)return!1;return!0}
function J(a,b,c){var e=c||0;if(null==a&&null==b)return null;if(null==a)return ra(b,function(a){return Number(a)+e});if(null==b)return a;if(2==a.length&&2==b.length)return ua(a,b,e);for(var d=c=0,f=0,g=[],h=!0;;)if(c<a.length&&(d>=b.length||d<b.length&&a[c]<b[d]+e))0==c%2?(0==f&&(g.push(a[c]),h=!1),f++):(f--,0==f&&(g.push(a[c]),h=!1)),c++;else if(c<a.length&&d<b.length&&a[c]==b[d]+e)c%2==d%2&&(g.push(a[c]),h=!1,f=(c+1)%2+(d+1)%2),c++,d++;else if(d<b.length)0==d%2?(0==f&&(g.push(b[d]+e),h=!1),f++):
(f--,0==f&&(g.push(b[d]+e),h=!1)),d++;else break;return h?null:g}function ua(a,b,c){return a||b?b?a?a[1]<b[0]+c?[a[0],a[1],b[0]+c,b[1]+c]:b[1]+c<a[0]?[b[0]+c,b[1]+c,a[0],a[1]]:[Math.min(a[0],b[0]+c),Math.max(a[1],b[1]+c)]:[b[0]+c,b[1]+c]:a:null};function va(a,b,c){var e={i:0,j:0,F:1600,G:600};if(b&&e){var d=!b||b.F<b.i?0:b.F-b.i,f=c.createImageData(d,!b||b.G<b.j?0:b.G-b.j),g=b.i-e.i,h=b.j-e.j;qa(a.L,function(a){if(a&&a.c){var c;c=a.c;if(b){var e={},m;for(m in c.h)if(!(m<b.j||m>=b.G)){var l;l=c.h[m];var n=b.i,t=b.F;if(l){for(var q=[],E=!1,T=!1,U=0;U<l.length;++U){var v=l[U];!T&&v>=n&&(E?v<t?v>n&&(q.push(n),q.push(v)):(q.push(n),q.push(t)):(v<t||v<=t&&E)&&q.push(v));T&&(v>t?E&&q.push(t):(v<t||v<=t&&E)&&q.push(v));T=v>=n&&v<t;if(v>=t)break;
E=!E}l=0==q.length?null:q}else l=null;l&&(e[m]=l)}c=H(e)}else c=null;if(c){c=c.h;for(var ja in c)for(e=Number(ja)-h,m=c[Number(ja)],l=0;l<m.length;l+=2)for(n=m[l];n<m[l+1];++n)t=4*(d*e+(n-g)),q=a.color,f.data[t]=q.r,f.data[t+1]=q.o,f.data[t+2]=q.m,f.data[t+3]=255}}});c.putImageData(f,b.i,b.j)}};function wa(a){this.a=a}var xa=[{r:0,o:0,m:255},{r:0,o:255,m:0},{r:255,o:0,m:255},{r:255,o:255,m:0},{r:0,o:255,m:255}];function ya(a){return{g:[a],v:null,c:null,C:!0,D:null}}function za(a,b){a.g.push(b);return{g:[],v:null,c:null,D:a.c,C:!0}}
wa.prototype.apply=function(a,b){if(!b.C)return null;var c;var e=b.v,d=b.g,f=this.a;if(0==d.length)c=null;else{var g=null,e=e||d[0];for(c=0;c<d.length;++c){var h;h=f.P?ua:J;var k=e[0],p=e[1],e=d[c][0],r=d[c][1],m={},l=k,n=p,t=f.h;if(k==e&&p==r)h=G(null,f,k,p);else{if(Math.abs(e-k)>Math.abs(r-p))if(k<e)for(var q=1,k=(r-p)/(e-k);l<=e;)m=I(h,m,t,Math.round(l),Math.round(n)),l+=q,n+=k;else for(q=-1,k=-(r-p)/(e-k);l>=e;)m=I(h,m,t,Math.round(l),Math.round(n)),l+=q,n+=k;else if(p<r)for(q=(e-k)/(r-p),k=1;n<=
r;)m=I(h,m,t,Math.round(l),Math.round(n)),l+=q,n+=k;else for(q=-(e-k)/(r-p),k=-1;n>=r;)m=I(h,m,t,Math.round(l),Math.round(n)),l+=q,n+=k;h=H(m)}g=G(g,h);e=d[c]}c=g}d=a.L?G(a.L[0].c,b.D):null;f=b.D?d.H:c&&c.H;c=G(b.c,c);return{A:{L:[{c:d,color:xa[0]},{c:c,color:xa[1]}]},N:f,f:{g:[],v:b.g[b.g.length-1]||null,c:c,C:!1}}};var Aa=-1!=C.indexOf("Opera")||-1!=C.indexOf("OPR"),K=-1!=C.indexOf("Trident")||-1!=C.indexOf("MSIE"),Ba=-1!=C.indexOf("Edge"),L=-1!=C.indexOf("Gecko")&&!(-1!=C.toLowerCase().indexOf("webkit")&&-1==C.indexOf("Edge"))&&!(-1!=C.indexOf("Trident")||-1!=C.indexOf("MSIE"))&&-1==C.indexOf("Edge"),M=-1!=C.toLowerCase().indexOf("webkit")&&-1==C.indexOf("Edge");
function Ca(){var a=C;if(L)return/rv\:([^\);]+)(\)|;)/.exec(a);if(Ba)return/Edge\/([\d\.]+)/.exec(a);if(K)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(M)return/WebKit\/(\S+)/.exec(a)}function Da(){var a=u.document;return a?a.documentMode:void 0}var Ea=function(){if(Aa&&u.opera){var a=u.opera.version;return"function"==w(a)?a():a}var a="",b=Ca();b&&(a=b?b[1]:"");return K&&(b=Da(),b>parseFloat(a))?String(b):a}(),Fa={};
function N(a){var b;if(!(b=Fa[a])){b=0;for(var c=ea(String(Ea)).split("."),e=ea(String(a)).split("."),d=Math.max(c.length,e.length),f=0;0==b&&f<d;f++){var g=c[f]||"",h=e[f]||"",k=RegExp("(\\d*)(\\D*)","g"),p=RegExp("(\\d*)(\\D*)","g");do{var r=k.exec(g)||["","",""],m=p.exec(h)||["","",""];if(0==r[0].length&&0==m[0].length)break;b=B(0==r[1].length?0:parseInt(r[1],10),0==m[1].length?0:parseInt(m[1],10))||B(0==r[2].length,0==m[2].length)||B(r[2],m[2])}while(0==b)}b=Fa[a]=0<=b}return b}
var Ga=u.document,Ha=Ga&&K?Da()||("CSS1Compat"==Ga.compatMode?parseInt(Ea,10):5):void 0;!L&&!K||K&&9<=Ha||L&&N("1.9.1");K&&N("9");function O(a){this.src=a;this.a={};this.b=0}O.prototype.hasListener=function(a,b){var c=void 0!==a,e=c?a.toString():"",d=void 0!==b;return ia(this.a,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=e||d&&a[g].B!=b))return!0;return!1})};var Ia=!K||9<=Ha,Ja=K&&!N("9");!M||N("528");L&&N("1.9b")||K&&N("8")||Aa&&N("9.5")||M&&N("528");L&&!N("8")||K&&N("9");function P(a,b){D.call(this,a?a.type:"");this.a=this.l=null;this.K=this.J=0;this.s=null;if(a){this.type=a.type;this.l=a.target||a.srcElement;this.a=b;var c=a.relatedTarget;if(c&&L)try{A(c.nodeName)}catch(e){}this.J=M||void 0!==a.offsetX?a.offsetX:a.layerX;this.K=M||void 0!==a.offsetY?a.offsetY:a.layerY;this.s=a;a.defaultPrevented&&this.b()}}ca(P,D);
P.prototype.b=function(){P.R.b.call(this);var a=this.s;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ja)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Q="closure_lm_"+(1E6*Math.random()|0),R={},Ka=0;
function La(a,b,c,e,d){if("array"==w(b)){for(var f=0;f<b.length;f++)La(a,b[f],c,e,d);return null}c=Ma(c);if(a&&a[la])a=S(a,b,c,e,d);else{f=c;if(!b)throw Error("Invalid event type");c=!!e;var g=V(a);g||(a[Q]=g=new O(a));var h=g,k=b.toString(),g=h.a[k];g||(g=h.a[k]=[],h.b++);var p;b:{for(p=0;p<g.length;++p){var r=g[p];if(!r.w&&r.listener==f&&r.B==!!e&&r.b==d)break b}p=-1}-1<p?(e=g[p],e.I=!1):(e=new na(f,h.src,k,!!e,d),e.I=!1,g.push(e));if(!e.a){d=Na();e.a=d;d.src=a;d.listener=e;if(a.addEventListener)a.addEventListener(b.toString(),
d,c);else if(a.attachEvent)a.attachEvent(Oa(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");Ka++}a=e}return a}function Na(){var a=Pa,b=Ia?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function Oa(a){return a in R?R[a]:R[a]="on"+a}function Qa(a,b,c,e){var d=!0;if(a=V(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.B==c&&!f.w&&(f=Ra(f,e),d=d&&!1!==f)}return d}
function Ra(a,b){var c=a.listener,e=a.b||a.src;if(a.I&&"number"!=typeof a&&a&&!a.w){var d=a.src;if(d&&d[la])d.U(a);else{var f=a.type,g=a.a;d.removeEventListener?d.removeEventListener(f,g,a.B):d.detachEvent&&d.detachEvent(Oa(f),g);Ka--;if(f=V(d)){var g=a.type,h;if(h=g in f.a){h=f.a[g];var k=pa(h,a),p;(p=0<=k)&&F.splice.call(h,k,1);h=p}h&&(oa(a),0==f.a[g].length&&(delete f.a[g],f.b--));0==f.b&&(f.src=null,d[Q]=null)}else oa(a)}}return c.call(e,b)}
function Pa(a,b){if(a.w)return!0;if(!Ia){var c;if(!(c=b))a:{c=["window","event"];for(var e=u,d;d=c.shift();)if(null!=e[d])e=e[d];else{c=null;break a}c=e}d=c;c=new P(d,this);e=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var f=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==d.returnValue)d.returnValue=!0}d=[];for(f=c.a;f;f=f.parentNode)d.push(f);for(var f=a.type,h=d.length-1;0<=h;h--){c.a=d[h];var k=Qa(d[h],f,!0,c),e=e&&k}for(h=0;h<d.length;h++)c.a=d[h],k=Qa(d[h],f,!1,c),
e=e&&k}return e}return Ra(a,new P(b,this))}function V(a){a=a[Q];return a instanceof O?a:null}var W="__closure_events_fn_"+(1E9*Math.random()>>>0);function Ma(a){if("function"==w(a))return a;a[W]||(a[W]=function(b){return a.handleEvent(b)});return a[W]};function Sa(a){z.call(this);this.b=a;this.l={}}ca(Sa,z);var Ta=[];function S(a,b,c,e,d){"array"!=w(c)&&(c&&(Ta[0]=c.toString()),c=Ta);for(var f=0;f<c.length;f++){var g=La(b,c[f],e||a.handleEvent,d||!1,a.b||a);if(!g)break;a.l[g.O]=g}return a}Sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Ua(){var a;a=document;a=x("single-canvas")?a.getElementById("single-canvas"):"single-canvas";var b;b={};for(var c=Math.floor(10),e=-c;e<=c;++e){var d=Math.round(Math.sqrt(100-e*e));0<d&&(b[e]=[-d,d])}b=H(b);b={S:new wa(b),f:null,M:{canvas:a},A:{c:null,H:null}};c=new Sa;S(c,a,"mousemove",y(Va,b),void 0);S(c,document,"mousedown",y(Wa,b),void 0);S(c,document,"mouseup",y(Xa,b),void 0);S(c,document,"mouseover",y(Ya,b),void 0);S(c,document,"mouseout",y(Za,b),void 0);S(c,a,"touchstart",y($a,b),
void 0);S(c,a,"touchmove",y(ab,b),void 0);S(c,a,"touchend",y(bb,b),void 0);S(c,document,"keypress",y(cb,b),void 0);db(b)}var X=["fixel","jspaint","SquarePaint","init"],Y=u;X[0]in Y||!Y.execScript||Y.execScript("var "+X[0]);for(var Z;X.length&&(Z=X.shift());)X.length||void 0===Ua?Y[Z]?Y=Y[Z]:Y=Y[Z]={}:Y[Z]=Ua;var eb=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)};
function db(a){eb(y(db,a));var b=a.S.apply(a.A,a.f);b&&(a.A=b.A,a.f=b.f,a=a.M.canvas.getContext("2d"),va(b.A,b.N,a))}function Wa(a,b){a.u=!0;b.l==a.M.canvas&&(a.f=ya([b.J,b.K]))}function Va(a,b){var c=[b.J,b.K];if(b.s.buttons){a.u||(a.f=ya(c));a.u=!0;var e=a.f,d=e.g;d.push(c);a.f={g:d,v:e.v,c:e.c,C:!0,D:null}}else a.u&&(a.u=!1,a.f=za(a.f,c))}function Xa(a){a.u=!1;a.f=za(a.f,location)}function cb(){}function Ya(){}function Za(){}function $a(a,b){b.b()}function ab(){}function bb(a,b){b.b()};
